(this["webpackJsonpmi-new-aeroset"]=this["webpackJsonpmi-new-aeroset"]||[]).push([[0],{60:function(e,t,i){e.exports=i(77)},65:function(e,t,i){},66:function(e,t,i){e.exports=i.p+"static/media/logo.5d5d9eef.svg"},67:function(e,t,i){},77:function(e,t,i){"use strict";i.r(t);var n=i(0),r=i.n(n),o=i(9),a=i.n(o),l=(i(65),i(66),i(67),i(43)),s=i(12),c=i.n(s),m=i(24),u=i(44),f=i(45),p=i(53),h=i(52),d=i(34),L=i(6),v=i(47),w=i(113),b=i(51),g=i(109),y=i(46),T=i.n(y),F=i(112),C=i(114),x=i(115);function k(){var e=Object(l.a)(["\n padding: 4em;\n background: ",";\n width: 250px; \n height: 320px;\n position: absolute;\n "]);return k=function(){return e},e}var Z=Object(b.a)({palette:{primary:{light:"#757ce8",main:"#3f50b5",dark:"#002884",contrastText:"#fff"},secondary:{light:"#ff7961",main:"#f44336",dark:"#ba000d",contrastText:"#000"}}});function X(e){for(var t=e.length,i=0,n=0,r=125e3,o=0,a=0;;){var l=e.slice(n,r),s=Math.min.apply(Math,Object(d.a)(l)),c=Math.max.apply(Math,Object(d.a)(l));if(o=s<o?s:o,a=c>a?c:a,n+=125e3,r+=125e3,(i+=l.length)>=t)break}return{min:o,max:a}}var Y=function(e){Object(p.a)(i,e);var t=Object(h.a)(i);function i(e){var n;return Object(u.a)(this,i),(n=t.call(this,e)).showFile=function(){var e=Object(m.a)(c.a.mark((function e(t){var i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),(i=new FileReader).onload=function(){var e=Object(m.a)(c.a.mark((function e(t){var i,r,o,a,l,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=[],r=t.target.result,r.split("\n").forEach((function(e){var t=e.split(";");i.push(t)})),n.points=i.map((function(e){return{x:Number.parseFloat(e[0]?e[0].replace(",","."):0),y:Number.parseFloat(e[1]?e[1].replace(",","."):0),z:Number.parseFloat(e[2]?e[2].replace(",","."):0),p:new Number(e[3]?e[3].replace(",","."):0)}})),o=n.points.map((function(e){return e.p})),a=X(o),l=a.max,s=a.min,n.parameterMin=s,n.parameterMax=l,e.next=11,n.SetupPcs(n.points);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i.readAsText(t.target.files[0]);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.state={filterXFromLimit:-5,filterXToLimit:5,filterYFromLimit:-5,filterYToLimit:5,filterZFromLimit:-5,filterZToLimit:5},n}return Object(f.a)(i,[{key:"SetupScene",value:function(){this.engine=new L.Engine(this.canvas,!0),this.scene=new L.Scene(this.engine),this.scene.clearColor=new L.Color3(27/255,150/255,243/255)}},{key:"SetupCamera",value:function(){var e=new L.ArcRotateCamera("Camera",0,0,0,L.Vector3.Zero(),this.scene);e.setPosition(new L.Vector3(0,0,20)),e.attachControl(this.canvas,!0)}},{key:"componentDidMount",value:function(){var e=Object(m.a)(c.a.mark((function e(){var t=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.SetupScene(),this.SetupCamera(),this.ShowAxis(5),this.engine.runRenderLoop((function(){t.scene.render()})),window.addEventListener("resize",(function(){t.engine.resize()}));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ShowAxis",value:function(e){var t=function(e,t,i,n){var r=new L.DynamicTexture("DynamicTexture",50,n,!0);r.hasAlpha=!0,r.drawText(e,5,40,"bold 36px Arial",t,"transparent",!0);var o=new L.Mesh.CreatePlane("TextPlane",i,n,!0);return o.material=new L.StandardMaterial("TextPlaneMaterial",n),o.material.backFaceCulling=!1,o.material.specularColor=new L.Color3(0,0,0),o.material.diffuseTexture=r,o};L.Mesh.CreateLines("axisX",[new L.Vector3.Zero,new L.Vector3(e,0,0),new L.Vector3(.95*e,.05*e,0),new L.Vector3(e,0,0),new L.Vector3(.95*e,-.05*e,0)],this.scene).color=new L.Color3(1,0,0),t("X","red",e/10,this.scene).position=new L.Vector3(.9*e,-.05*e,0),L.Mesh.CreateLines("axisY",[new L.Vector3.Zero,new L.Vector3(0,e,0),new L.Vector3(-.05*e,.95*e,0),new L.Vector3(0,e,0),new L.Vector3(.05*e,.95*e,0)],this.scene).color=new L.Color3(0,1,0),t("Y","green",e/10,this.scene).position=new L.Vector3(0,.9*e,-.05*e),L.Mesh.CreateLines("axisZ",[new L.Vector3.Zero,new L.Vector3(0,0,e),new L.Vector3(0,-.05*e,.95*e),new L.Vector3(0,0,e),new L.Vector3(0,.05*e,.95*e)],this.scene).color=new L.Color3(0,0,1),t("Z","blue",e/10,this.scene).position=new L.Vector3(0,.05*e,.9*e)}},{key:"SetupPcs",value:function(){var e=Object(m.a)(c.a.mark((function e(t){var i,n,r,o=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pointsCloudSystem=new L.PointsCloudSystem("pcs",this.scene),i=this.parameterMax-this.parameterMin,n=t.filter((function(e){var t=e.x,i=e.y,n=e.z;return t>=o.state.filterXFromLimit&&t<=o.state.filterXToLimit&&i>=o.state.filterYFromLimit&&i<=o.state.filterYToLimit&&n>=o.state.filterZFromLimit&&n<=o.state.filterZToLimit})),r=function(e,t,r){var a,l,s,c=n[t],m=(c.p-o.parameterMin)/i*100;m<=0?(a=0,l=0,s=0):m>0&&m<=25?(a=255,l=0-10.2*(0-m),s=0):m>25&&m<=50?(a=255- -10.2*(25-m),l=255,s=0):m>50&&m<=75?(a=0,l=255,s=0-5.1*(50-m)):m>75&&m<=100?(a=0,l=255- -10.2*(75-m),s=255):m>100&&(a=0,l=0,s=0),e.position=new L.Vector3(c.x,c.y,c.z),e.color=new L.Color3(a/255,l/255,s/255)},this.pointsCloudSystem.addPoints(n.length,r),e.next=7,this.pointsCloudSystem.buildMeshAsync();case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){}},{key:"InputOnChangeHandle",value:function(e){var t=this,i=e.target,n=i.name,r=i.value,o=function(){var e=Object(m.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==t.pointsCloudSystem&&t.pointsCloudSystem.dispose(),"undefined"===typeof t.points||!t.points){e.next=4;break}return e.next=4,t.SetupPcs(t.points);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();"x-from"===n?this.setState((function(e){return{filterXFromLimit:r,filterXToLimit:e.filterXToLimit,filterYFromLimit:e.filterYFromLimit,filterYToLimit:e.filterYToLimit,filterZFromLimit:e.filterZFromLimit,filterZToLimit:e.filterZToLimit}}),(function(){o()})):"x-to"===n?this.setState((function(e){return{filterXFromLimit:e.filterXFromLimit,filterXToLimit:r,filterYFromLimit:e.filterYFromLimit,filterYToLimit:e.filterYToLimit,filterZFromLimit:e.filterZFromLimit,filterZToLimit:e.filterZToLimit}}),(function(){o()})):"y-from"===n?this.setState((function(e){return{filterXFromLimit:e.filterXFromLimit,filterXToLimit:e.filterXToLimit,filterYFromLimit:r,filterYToLimit:e.filterYToLimit,filterZFromLimit:e.filterZFromLimit,filterZToLimit:e.filterZToLimit}}),(function(){o()})):"y-to"===n?this.setState((function(e){return{filterXFromLimit:e.filterXFromLimit,filterXToLimit:e.filterXToLimit,filterYFromLimit:e.filterYFromLimit,filterYToLimit:r,filterZFromLimit:e.filterZFromLimit,filterZToLimit:e.filterZToLimit}}),(function(){o()})):"z-from"===n?this.setState((function(e){return{filterXFromLimit:e.filterXFromLimit,filterXToLimit:e.filterXToLimit,filterYFromLimit:e.filterYFromLimit,filterYToLimit:e.filterYToLimit,filterZFromLimit:r,filterZToLimit:e.filterZToLimit}}),(function(){o()})):"z-to"===n&&this.setState((function(e){return{filterXFromLimit:e.filterXFromLimit,filterXToLimit:e.filterXToLimit,filterYFromLimit:e.filterYFromLimit,filterYToLimit:e.filterYToLimit,filterZFromLimit:e.filterZFromLimit,filterZToLimit:r}}),(function(){o()}))}},{key:"render",value:function(){var e=this;return r.a.createElement(g.a,{theme:Z},r.a.createElement("div",null,r.a.createElement("canvas",{style:{width:window.innerWidth,height:window.innerHeight,position:"relative"},ref:function(t){null!=t&&(e.canvas=t)}}),r.a.createElement(S,{style:{top:20,left:20}},r.a.createElement(x.a,{disableElevation:!0,variant:"outlined",startIcon:r.a.createElement(T.a,null),style:{marginBottom:24},component:"label",color:"primary"},"Upload File",r.a.createElement("input",{type:"file",ref:function(t){return e.inputElement=t},onChange:function(t){return e.showFile(t)},style:{display:"none"}})),r.a.createElement(F.a,{variant:"h5"},"FILTERS"),r.a.createElement("div",{style:{marginTop:16}},r.a.createElement(C.a,{id:"outlined-number",label:"X FROM",type:"number",name:"x-from",step:"0.1",value:this.state.filterXFromLimit,onChange:this.InputOnChangeHandle.bind(this),style:{width:100,height:20},InputLabelProps:{shrink:!0},inputProps:{step:.1},variant:"outlined"}),r.a.createElement(C.a,{id:"outlined-number",label:"X TO",type:"number",name:"x-to",step:"0.1",value:this.state.filterXToLimit,onChange:this.InputOnChangeHandle.bind(this),style:{width:100,marginLeft:24},InputLabelProps:{shrink:!0},inputProps:{step:.1},variant:"outlined"})),r.a.createElement("div",{style:{marginTop:12}},r.a.createElement(C.a,{id:"outlined-number",label:"Y FROM",type:"number",name:"y-from",step:"0.1",value:this.state.filterYFromLimit,onChange:this.InputOnChangeHandle.bind(this),style:{width:100,height:20},InputLabelProps:{shrink:!0},inputProps:{step:.1},variant:"outlined"}),r.a.createElement(C.a,{id:"outlined-number",label:"Y TO",type:"number",name:"y-to",step:"0.1",value:this.state.filterYToLimit,onChange:this.InputOnChangeHandle.bind(this),style:{width:100,marginLeft:24},InputLabelProps:{shrink:!0},inputProps:{step:.1},variant:"outlined"})),r.a.createElement("div",{style:{marginTop:12}},r.a.createElement(C.a,{id:"outlined-number",label:"Z FROM",type:"number",name:"z-from",step:"0.1",value:this.state.filterZFromLimit,onChange:this.InputOnChangeHandle.bind(this),style:{width:100,height:20},InputLabelProps:{shrink:!0},inputProps:{step:.1},variant:"outlined"}),r.a.createElement(C.a,{id:"outlined-number",label:"Z TO",type:"number",name:"z-to",step:"0.1",value:this.state.filterZToLimit,onChange:this.InputOnChangeHandle.bind(this),style:{width:100,marginLeft:24},InputLabelProps:{shrink:!0},inputProps:{step:.1},variant:"outlined"})))))}}]),i}(n.Component),S=Object(v.a)(w.a)(k(),Z.palette.background),E=Y;var O=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(E,null))},P=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function M(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var i=e.installing;null!=i&&(i.onstatechange=function(){"installed"===i.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}i(76);a.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(O,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");P?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(i){var n=i.headers.get("content-type");404===i.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):M(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):M(t,e)}))}}()}},[[60,1,2]]]);
//# sourceMappingURL=main.50d70ee8.chunk.js.map