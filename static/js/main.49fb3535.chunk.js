(this["webpackJsonpmi-new-aeroset"]=this["webpackJsonpmi-new-aeroset"]||[]).push([[0],{59:function(e,t,i){e.exports=i(76)},64:function(e,t,i){},65:function(e,t,i){e.exports=i.p+"static/media/logo.5d5d9eef.svg"},66:function(e,t,i){},76:function(e,t,i){"use strict";i.r(t);var n=i(0),r=i.n(n),o=i(9),a=i.n(o),l=(i(64),i(65),i(66),i(42)),s=i(12),c=i.n(s),m=i(24),u=i(43),f=i(44),p=i(52),h=i(51),d=i(6),L=i(46),v=i(112),w=i(50),b=i(108),g=i(45),y=i.n(g),T=i(111),F=i(113),x=i(114);function C(){var e=Object(l.a)(["\n padding: 4em;\n background: ",";\n width: 250px; \n height: 320px;\n position: absolute;\n "]);return C=function(){return e},e}var k=Object(w.a)({palette:{primary:{light:"#757ce8",main:"#3f50b5",dark:"#002884",contrastText:"#fff"},secondary:{light:"#ff7961",main:"#f44336",dark:"#ba000d",contrastText:"#000"}}}),Z=function(e){Object(p.a)(i,e);var t=Object(h.a)(i);function i(e){var n;return Object(u.a)(this,i),(n=t.call(this,e)).showFile=function(){var e=Object(m.a)(c.a.mark((function e(t){var i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),(i=new FileReader).onload=function(){var e=Object(m.a)(c.a.mark((function e(t){var i,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=[],r=t.target.result,r.split("\n").forEach((function(e){var t=e.split(";");i.push(t)})),n.pcsArray=i,e.next=7,n.setupPcs(n.pcsArray);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i.readAsText(t.target.files[0]);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.state={filterXFromLimit:-5,filterXToLimit:5,filterYFromLimit:-5,filterYToLimit:5,filterZFromLimit:-5,filterZToLimit:5},n}return Object(f.a)(i,[{key:"SetupScene",value:function(){this.engine=new d.Engine(this.canvas,!0),this.scene=new d.Scene(this.engine),this.scene.clearColor=new d.Color3(27/255,150/255,243/255)}},{key:"SetupCamera",value:function(){var e=new d.ArcRotateCamera("Camera",0,0,0,d.Vector3.Zero(),this.scene);e.setPosition(new d.Vector3(0,0,20)),e.attachControl(this.canvas,!0)}},{key:"componentDidMount",value:function(){var e=Object(m.a)(c.a.mark((function e(){var t=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.SetupScene(),this.SetupCamera(),this.showAxis(5),this.engine.runRenderLoop((function(){t.scene.render()})),window.addEventListener("resize",(function(){t.engine.resize()}));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"showAxis",value:function(e){var t=function(e,t,i,n){var r=new d.DynamicTexture("DynamicTexture",50,n,!0);r.hasAlpha=!0,r.drawText(e,5,40,"bold 36px Arial",t,"transparent",!0);var o=new d.Mesh.CreatePlane("TextPlane",i,n,!0);return o.material=new d.StandardMaterial("TextPlaneMaterial",n),o.material.backFaceCulling=!1,o.material.specularColor=new d.Color3(0,0,0),o.material.diffuseTexture=r,o};d.Mesh.CreateLines("axisX",[new d.Vector3.Zero,new d.Vector3(e,0,0),new d.Vector3(.95*e,.05*e,0),new d.Vector3(e,0,0),new d.Vector3(.95*e,-.05*e,0)],this.scene).color=new d.Color3(1,0,0),t("X","red",e/10,this.scene).position=new d.Vector3(.9*e,-.05*e,0),d.Mesh.CreateLines("axisY",[new d.Vector3.Zero,new d.Vector3(0,e,0),new d.Vector3(-.05*e,.95*e,0),new d.Vector3(0,e,0),new d.Vector3(.05*e,.95*e,0)],this.scene).color=new d.Color3(0,1,0),t("Y","green",e/10,this.scene).position=new d.Vector3(0,.9*e,-.05*e),d.Mesh.CreateLines("axisZ",[new d.Vector3.Zero,new d.Vector3(0,0,e),new d.Vector3(0,-.05*e,.95*e),new d.Vector3(0,0,e),new d.Vector3(0,.05*e,.95*e)],this.scene).color=new d.Color3(0,0,1),t("Z","blue",e/10,this.scene).position=new d.Vector3(0,.05*e,.9*e)}},{key:"setupPcs",value:function(){var e=Object(m.a)(c.a.mark((function e(){var t,i,n=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pcs=new d.PointsCloudSystem("pcs",this.scene),0,4,4,t=this.pcsArray.filter((function(e){var t={x:Number.parseFloat(e[0]?e[0].replace(",","."):0),y:Number.parseFloat(e[0]?e[0].replace(",","."):0),z:Number.parseFloat(e[0]?e[0].replace(",","."):0)},i=t.x,r=t.y,o=t.z;return i>=n.state.filterXFromLimit&&i<=n.state.filterXToLimit&&r>=n.state.filterYFromLimit&&r<=n.state.filterYToLimit&&o>=n.state.filterZFromLimit&&o<=n.state.filterZToLimit})),i=function(e,i,n){var r=t[i],o={x:Number.parseFloat(r[0]?r[0].replace(",","."):0),y:Number.parseFloat(r[1]?r[1].replace(",","."):0),z:Number.parseFloat(r[2]?r[2].replace(",","."):0)},a=r[3];var l=function(e,t,i){var n,r,o,a=((e=Number.parseFloat(e?e.replace(",","."):0))-t)/4*100;return a<=0?(n=0,r=0,o=0):a>0&&a<=25?(n=255,r=0-10.2*(0-a),o=0):a>25&&a<=50?(n=255- -10.2*(25-a),r=255,o=0):a>50&&a<=75?(n=0,r=255,o=0-5.1*(50-a)):a>75&&a<=100?(n=0,r=255- -10.2*(75-a),o=255):a>100&&(n=0,r=0,o=0),{r:n,g:r,b:o}}(a,0),s=l.r,c=l.g,m=l.b;(s>255||m>255||c>255||s<0||m<0||c<0)&&console.log("p = ".concat(a,"; r = ").concat(s,", r = ").concat(c,", b = ").concat(m)),s<10&&c<10&&m<10&&console.log("p = ".concat(a,"; r = ").concat(s,", r = ").concat(c,", b = ").concat(m)),void 0!==s&&null!==s&&s!==Number.NaN||console.log(" r is bad!"),void 0!==c&&null!==c&&c!==Number.NaN||console.log(" g is bad!"),void 0!==m&&null!==m&&m!==Number.NaN||console.log(" b is bad!"),e.position=new d.Vector3(o.x,o.y,o.z),e.color=new d.Color3(s/255,c/255,m/255)},this.pcs.addPoints(t.length,i),e.next=9,this.pcs.buildMeshAsync();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){}},{key:"handleChange",value:function(e){var t=this,i=e.target,n=i.name,r=i.value,o=function(){var e=Object(m.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==t.pcs&&t.pcs.dispose(),"undefined"===typeof t.pcsArray||!t.pcsArray){e.next=4;break}return e.next=4,t.setupPcs(t.pcsArray);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();"x-from"===n?this.setState((function(e){return{filterXFromLimit:r,filterXToLimit:e.filterXToLimit,filterYFromLimit:e.filterYFromLimit,filterYToLimit:e.filterYToLimit,filterZFromLimit:e.filterZFromLimit,filterZToLimit:e.filterZToLimit}}),(function(){o()})):"x-to"===n?this.setState((function(e){return{filterXFromLimit:e.filterXFromLimit,filterXToLimit:r,filterYFromLimit:e.filterYFromLimit,filterYToLimit:e.filterYToLimit,filterZFromLimit:e.filterZFromLimit,filterZToLimit:e.filterZToLimit}}),(function(){o()})):"y-from"===n?this.setState((function(e){return{filterXFromLimit:e.filterXFromLimit,filterXToLimit:e.filterXToLimit,filterYFromLimit:r,filterYToLimit:e.filterYToLimit,filterZFromLimit:e.filterZFromLimit,filterZToLimit:e.filterZToLimit}}),(function(){o()})):"y-to"===n?this.setState((function(e){return{filterXFromLimit:e.filterXFromLimit,filterXToLimit:e.filterXToLimit,filterYFromLimit:e.filterYFromLimit,filterYToLimit:r,filterZFromLimit:e.filterZFromLimit,filterZToLimit:e.filterZToLimit}}),(function(){o()})):"z-from"===n?this.setState((function(e){return{filterXFromLimit:e.filterXFromLimit,filterXToLimit:e.filterXToLimit,filterYFromLimit:e.filterYFromLimit,filterYToLimit:e.filterYToLimit,filterZFromLimit:r,filterZToLimit:e.filterZToLimit}}),(function(){o()})):"z-to"===n&&this.setState((function(e){return{filterXFromLimit:e.filterXFromLimit,filterXToLimit:e.filterXToLimit,filterYFromLimit:e.filterYFromLimit,filterYToLimit:e.filterYToLimit,filterZFromLimit:e.filterZFromLimit,filterZToLimit:r}}),(function(){o()}))}},{key:"render",value:function(){var e=this;return r.a.createElement(b.a,{theme:k},r.a.createElement("div",null,r.a.createElement("canvas",{style:{width:window.innerWidth,height:window.innerHeight,position:"relative"},ref:function(t){null!=t&&(e.canvas=t)}}),r.a.createElement(X,{style:{top:20,left:20}},r.a.createElement(x.a,{disableElevation:!0,variant:"outlined",startIcon:r.a.createElement(y.a,null),style:{marginBottom:24},component:"label",color:"primary"},"Upload File",r.a.createElement("input",{type:"file",ref:function(t){return e.inputElement=t},onChange:function(t){return e.showFile(t)},style:{display:"none"}})),r.a.createElement(T.a,{variant:"h5"},"FILTERS"),r.a.createElement("div",{style:{marginTop:16}},r.a.createElement(F.a,{id:"outlined-number",label:"X FROM",type:"number",name:"x-from",step:"0.1",value:this.state.filterXFromLimit,onChange:this.handleChange.bind(this),style:{width:100,height:20},InputLabelProps:{shrink:!0},inputProps:{step:.1},variant:"outlined"}),r.a.createElement(F.a,{id:"outlined-number",label:"X TO",type:"number",name:"x-to",step:"0.1",value:this.state.filterXToLimit,onChange:this.handleChange.bind(this),style:{width:100,marginLeft:24},InputLabelProps:{shrink:!0},inputProps:{step:.1},variant:"outlined"})),r.a.createElement("div",{style:{marginTop:12}},r.a.createElement(F.a,{id:"outlined-number",label:"Y FROM",type:"number",name:"y-from",step:"0.1",value:this.state.filterYFromLimit,onChange:this.handleChange.bind(this),style:{width:100,height:20},InputLabelProps:{shrink:!0},inputProps:{step:.1},variant:"outlined"}),r.a.createElement(F.a,{id:"outlined-number",label:"Y TO",type:"number",name:"y-to",step:"0.1",value:this.state.filterYToLimit,onChange:this.handleChange.bind(this),style:{width:100,marginLeft:24},InputLabelProps:{shrink:!0},inputProps:{step:.1},variant:"outlined"})),r.a.createElement("div",{style:{marginTop:12}},r.a.createElement(F.a,{id:"outlined-number",label:"Z FROM",type:"number",name:"z-from",step:"0.1",value:this.state.filterZFromLimit,onChange:this.handleChange.bind(this),style:{width:100,height:20},InputLabelProps:{shrink:!0},inputProps:{step:.1},variant:"outlined"}),r.a.createElement(F.a,{id:"outlined-number",label:"Z TO",type:"number",name:"z-to",step:"0.1",value:this.state.filterZToLimit,onChange:this.handleChange.bind(this),style:{width:100,marginLeft:24},InputLabelProps:{shrink:!0},inputProps:{step:.1},variant:"outlined"})))))}}]),i}(n.Component),X=Object(L.a)(v.a)(C(),k.palette.background),Y=Z;var E=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(Y,null))},P=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function S(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var i=e.installing;null!=i&&(i.onstatechange=function(){"installed"===i.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}i(75);a.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(E,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");P?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(i){var n=i.headers.get("content-type");404===i.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):S(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):S(t,e)}))}}()}},[[59,1,2]]]);
//# sourceMappingURL=main.49fb3535.chunk.js.map